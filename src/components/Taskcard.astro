---
// TaskCard.astro
interface Props {
    // category: string;
    title: string;
    description: string;
    // assignees: Array<{
    //     initials: string;
    //     role: "manager" | "developper" | "designer";
    // }>;
}

// const colorClasses = {
//     manager: "bg-green-500",
//     developper: "bg-red-500",
//     designer: "bg-blue-500",
// };

const { title, description } = Astro.props;
---

<div class="card bg-white shadow-md w-80">
    <div class="card-body p-4">
        <!-- Category Badge -->
        <div class="flex justify-between items-center">
            <!-- Card Title -->
            <h2 class="font-bold text-lg text-gray-800 mb-2">{title}</h2>
            <!-- <div class="mb-2">
                <span
                    class="badge badge-sm bg-pink-100 text-pink-600 border-none font-medium text-xs px-3 py-1 uppercase"
                >
                    {category}
                </span>
            </div> -->
            <details id="dropdown" class="dropdown">
                <summary class="btn border-none bg-transparent shadow-none">
                    <i class="fa-solid fa-ellipsis text-black"></i>
                </summary>
                <ul
                    class="menu dropdown-content bg-white text-black rounded-box z-1 w-28 p-2 shadow-sm"
                >
                    <li>
                        <button onclick='console.log("Edit button clicked")'>
                            <i class="fa-solid fa-pen"></i>
                            Edit
                        </button>
                    </li>
                    <li>
                        <button onclick='console.log("Delete Button clicked")'>
                            <i class="fa-solid fa-trash"></i>
                            Delete
                        </button>
                    </li>
                </ul>
            </details>
        </div>

        <!-- Card Description -->
        <p class="text-gray-600 text-sm mb-3">{description}</p>

        <!-- <div class="flex justify-between items-center">
            <div class="avatar-group -space-x-3">
                {
                    assignees.map((assignee) => (
                        <div class="avatar border-transparent">
                            <div class="w-8">
                                <span
                                    class={`${colorClasses[assignee.role] || "bg-gray-500"} text-white text-xs flex items-center justify-center h-full`}
                                >
                                    {assignee.initials}
                                </span>
                            </div>
                        </div>
                    ))
                }
            </div>
        </div> -->
    </div>
</div>
<script is:inline>
    document.addEventListener("click", function (e) {
        const dropdown = document.getElementById("dropdown");
        if (dropdown && !dropdown.contains(e.target)) {
            dropdown.removeAttribute("open");
        }
    });
</script>
