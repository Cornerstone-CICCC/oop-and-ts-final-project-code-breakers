---
// import AddTaskModal from "./AddTaskModal.astro";

interface Props {
  taskTypeObj: { key: string; value: string };
}

const { taskTypeObj } = Astro.props;
---

<div class="bg-slate-100 rounded-lg p-4">
  <div class="flex justify-between items-center mb-4">
    <h2 class="text-base font-semibold">{taskTypeObj.value}</h2>
    <div class="flex gap-2">
      <button
        class="p-1 hover:bg-slate-200 rounded"
        data-column={taskTypeObj.key}
      >
        <i class="fa-solid fa-plus"></i>
      </button>
    </div>
  </div>
  <div class="flex flex-col gap-4">
    <!-- Tasks here -->
  </div>
  <!-- Modal here -->
  <!-- <AddTaskModal taskTypeObj={taskTypeObj} /> -->
</div>

<script>
  document.querySelectorAll("button[data-column]").forEach((button) => {
    button.addEventListener("click", () => {
      const taskTypeKey = button.getAttribute("data-column");
      if (taskTypeKey) {
        const modal = document.querySelector(`#modal-${taskTypeKey}`);
        if (modal instanceof HTMLDialogElement) {
          modal.showModal();
        }
      }
    });
  });
</script>
